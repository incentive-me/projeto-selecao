<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/responsivity.css">
    <script src="javascript/main.js"></script>
    <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon">
    <title>EasyForms</title>
</head>

<body>
    <header>
        <p>EasyForms</p>
    </header>

    <aside>
        <nav>
            <button onclick="showIndexPage()">Quem somos</button>
            <button onclick="showTestPage()">Teste a aplicação</button>
            <button onclick="showCopyCodePage()">Importar HTML</button>
            <button onclick="showCopyCssPage()">Importar CSS</button>
            <button onclick="showHowItWorksPage()">Sobre nossa API</button>
            <button onclick="showOurPolicyPage()">Nossas políticas</button>
        </nav>
    </aside>

    <main>
        <section id="showIndexPage">
            <div>
                <h1>Quem Somos?</h1>
                <p>
                    EasyForms é uma solução simples para pessoas que precisam integrar formulários em suas páginas HTML.
                    Nada de se precupar com Backend.
                    Você só precisa copiar e colar, <strong>o nosso sistema faz o restante</strong>.
                </p>
                <h1>Como utilizar?</h1>
                <p>Para utilizar nossa aplicação basta clicar aqui ao lado para <strong>importar o código HTML</strong>
                    direto em sua página. Além disso você personalizar as cores do seu formulário clicando em
                    <strong>importar CSS</strong>!</p>
            </div>
            <img src="images/Sending emails_Flatline.png" alt="Desenho de pessoa enviando email png">

        </section>

        <section id="showTestPage">
            <h1>Teste nossa aplicação</h1>
            <p>Aqui você pode ver uma prévia de como nosso formulário funcionará na sua página. <br> <strong>Obs.:</strong> É só um
                teste, esse formulário ainda não vai para o seu e-mail.</p>

            <div id="htmlCode">
                <form action="https://easyforms.vercel.app/api" method="POST">
                    <fieldset>
                        <legend>Contato</legend>
                        <label for="name">Nome</label>
                        <input type="text" name="name" id="name" required>
                        <label for="email">E-mail</label>
                        <input type="hidden" name="destiny" id="destiny" value="nathanssfirmo@gmail.com">
                        <input type="email" name="email" id="email" required>
                        <label for="message">Mensagem</label>
                        <textarea name="message" id="message" cols="21" rows="5" required></textarea>
                        <button type="submit" id="button-send">enviar</button>
                    </fieldset>
                </form>
            </div>
        </section>


        <section id="showCopyCodePage">
            <div>
                <h1>Incorporar HTML</h1>
                <p>Cole o código abaixo na sua página e comece a usar o serviço! <br>
                <strong>Obs.:</strong> Lembre-se de alterar &quot;example@email.com&quot; pelo seu e-mail.</p>
            </div>
            <div>
                <pre>
                    <code>
    &lt;form action=&quot;https://easyforms.vercel.app/api&quot; method=&quot;POST&quot;&gt;
    &lt;fieldset&gt;
        &lt;legend&gt;Contato&lt;/legend&gt;
        &lt;label for=&quot;name&quot;&gt;Nome&lt;/label&gt;
        &lt;input type=&quot;text&quot; name=&quot;name&quot; id=&quot;name&quot; required&gt;
        &lt;label for=&quot;email&quot;&gt;E-mail&lt;/label&gt;
        &lt;input type=&quot;hidden&quot; name=&quot;destiny&quot; id=&quot;destiny&quot; value=&quot;example@email.com&quot;&gt;
        &lt;input type=&quot;email&quot; name=&quot;email&quot; id=&quot;email&quot; required&gt;
        &lt;label for=&quot;message&quot;&gt;Mensagem&lt;/label&gt;
        &lt;textarea name=&quot;message&quot; id=&quot;message&quot; cols=&quot;30&quot; rows=&quot;10&quot; required&gt;&lt;/textarea&gt;
        &lt;button type=&quot;submit&quot; id=&quot;button-send&quot;&gt;enviar&lt;/button&gt;
    &lt;/fieldset&gt;
&lt;/form&gt;                        
                    </code>
                </pre>
                <button onclick="copyHTML()">copiar</button>
            </div>
        </section>

        <section id="showCopyCssPage" name="showCopyCssPage">
            <div>
                <h1>Incorporar CSS</h1>
                <p>Escolha uma cor para estilizar seus formulários!</p>
            </div>

            <form action="" id="inputColor">
                <fieldset>
                    <label for="cssColor">Escolha uma cor no formato Hexadecimal</label>
                    <input type="color" name="color" id="cssColor">
                    <button type="submit" onclick="showCopyCssPageCode()">Copiar CSS</button>
                </fieldset>
            </form>
        </section>
        <section id="showHowItWorksPage">
            <h1>Como nosso serviço funciona?</h1>
            <p>Nossa aplicação chama uma <strong>serverless function</strong>, usando <strong>Node.js</strong>, e a
                dependência <strong>nodemailer</strong> faz o envio.</p>
            <div>
                <pre>
                    <code>
async function sender(req, res) {
    const sender = `${req.body.name} <${req.body.email}>`
    const message = `${req.body.message}`
    
    if (message) {
        await transporter.sendMail({
        from: `${sender}`,
        text: `${message}`,
        subject: 'Formulário de contato',
        to: '${destiny}',
        replyTo: `${sender}`
        })
        console.log('Email sent')
    }
    res.redirect('https://projeto-selecao.vercel.app/tanks')
}
                    </code>
                </pre>
            </div>
        </section>

        <section id="showOurPolicyPage">
            <h1>Nossas políticas</h1>
            <p>Nossa aplicação é <strong>totalmente gratuita</strong> e de <strong>código aberto</strong>. Todo o código
                está disponível no <a href="https://github.com/NathanFirmo" target="_blank"><strong>GitHub</strong></a>. &#128512;</p>
        </section>
    </main>

    <footer>
        <p>Feito por Nathan Firmo &copy;</p>
    </footer>
</body>

</html>